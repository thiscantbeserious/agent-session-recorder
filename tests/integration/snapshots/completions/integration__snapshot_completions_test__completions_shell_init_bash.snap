---
source: tests/integration/snapshot_completions_test.rs
expression: output
---
=== agr completions --shell-init bash ===
Exit code: 0

--- stdout ---
_agr_commands="record status cleanup list analyze play marker agents config shell optimize";_agr_file_cmds="analyze play optimize";_agr_marker_subcmds="add list";_agr_agents_subcmds="list add remove is-wrapped no-wrap";_agr_config_subcmds="show edit migrate";_agr_shell_subcmds="status install uninstall";_agr_complete_files() { local cur="$1";local files;files=$(agr completions --files --limit 20 "$cur" 2>/dev/null);COMPREPLY=($(compgen -W "$files" -- "$cur"));};_agr_complete() { local cur="${COMP_WORDS[COMP_CWORD]}";local cmd="${COMP_WORDS[1]}";local subcmd="${COMP_WORDS[2]}";if [[ $COMP_CWORD -eq 1 ]]; then COMPREPLY=($(compgen -W "$_agr_commands" -- "$cur"));elif [[ $COMP_CWORD -eq 2 ]]; then case "$cmd" in marker) COMPREPLY=($(compgen -W "$_agr_marker_subcmds" -- "$cur")) ;;agents) COMPREPLY=($(compgen -W "$_agr_agents_subcmds" -- "$cur")) ;;config) COMPREPLY=($(compgen -W "$_agr_config_subcmds" -- "$cur")) ;;shell) COMPREPLY=($(compgen -W "$_agr_shell_subcmds" -- "$cur")) ;;*) [[ " $_agr_file_cmds " =~ " $cmd " ]] &&_agr_complete_files "$cur" ; esac;elif [[ $COMP_CWORD -ge 3 ]]; then if [[ "$cmd" == "marker" ]]; then _agr_complete_files "$cur";fi;fi;};complete -F _agr_complete agr

--- stderr ---
