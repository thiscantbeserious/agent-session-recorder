# Coverage configuration for cargo-tarpaulin
# Run: cargo tarpaulin

[default]
# Fail if coverage drops below threshold
fail-under = 70.0

# Exclude files from coverage calculation
# - tests/*: Test files themselves
# - */tests.rs: Inline test modules
# - src/recording.rs: Requires asciinema, tested via e2e
# - src/tui/app.rs: Requires terminal, tested manually
# - src/tui/event.rs: Requires terminal, tested manually
exclude-files = ["tests/*", "*/tests.rs", "src/recording.rs", "src/tui/app.rs", "src/tui/event.rs"]

# Skip functions that are hard to test
ignore = [
    # Main entry points (tested via e2e)
    "main",
    # CLI parsing (tested via integration tests)
    "build_cli",
    # TUI functions (require terminal, tested manually)
    "show_tui_help",
    "should_show_tui_help",
]

[report]
# Output formats
out = ["Xml", "Html"]
output-dir = "coverage"
